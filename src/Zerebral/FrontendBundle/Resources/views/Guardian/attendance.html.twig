{% extends 'ZerebralFrontendBundle::layout.html.twig' %}
{% import "ZerebralFrontendBundle:Macro:main.html.twig" as mainPartials %}

{% block content %}
    {% javascripts '@ZerebralFrontendBundle/Resources/public/js/controllers/guardian/index.js' output='js/compiled/guardian_index.js' %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}

    <div class="top-second-navbar">
        {{ mainPartials.guardianTopMenu('assignments') }}
    </div>

    <div class="row-fluid attendance-block">
        <div class="content">
            <div class="row-fluid">
                <h2 class="pull-left form-title">
                    Attendance
                </h2>
            </div>
            <hr/>

            <div class="attendance-table">

                <div class="date-selector">

                </div>

                <div class="clearfix"></div>

                <table class="table table-bordered table-striped">
                    <tr>
                        <th class="name">Course name</th>
                        {% for day in dateRange %}
                            <th>{{ day }}</th>
                        {% endfor %}
                    </tr>

                    <tbody>
                    {% for courseId, course in attendancies %}
                        <tr>
                            <td><a href="{{ path('course_view', {id: courseId}) }}">{{ courses[courseId].name }}</a></td>
                            {% for day in dateRange %}
                                <td>
                                    {{ course[day] is defined ? course[day].status : '-' }}
                                </td>
                            {% endfor %}
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>

    </div>
{% endblock %}


